{"version":3,"sources":["features/list/UserList.module.css","features/list/userListSlice.js","features/list/UserList.jsx","app/App.jsx","app/store.js","index.jsx"],"names":["module","exports","getGitHubUsers","createAsyncThunk","input","a","getState","since","list","pageIndex","gitHubAPI","per_page","response","userListSlice","createSlice","name","initialState","users","isPending","reducers","extraReducers","pending","state","fulfilled","action","payload","data","rejected","console","error","UserList","dispatch","useDispatch","useSelector","useEffect","className","styles","listComponent","pageTitle","paginatedBlock","length","onClick","event","preventDefault","userList","map","user","order","key","id","avatar","src","avatar_url","alt","userLogin","login","siteAdmin","site_admin","anUserInfo","App","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iKACAA,EAAOC,QAAU,CAAC,cAAgB,gCAAgC,UAAY,4BAA4B,eAAiB,iCAAiC,SAAW,2BAA2B,OAAS,yBAAyB,UAAY,4BAA4B,UAAY,8B,gKCUlRC,EAAiBC,YACrB,0BADqC,uCAErC,WAAOC,EAAP,sBAAAC,EAAA,6DAAgBC,EAAhB,EAAgBA,SACRC,EALc,GAKND,IAAWE,KAAKC,UADhC,SAGyBC,YAAU,aAAc,CAC7CC,SARkB,GASlBJ,MAAOA,IALX,cAGQK,EAHR,yBAOSA,GAPT,2CAFqC,yDAqCxBC,EAxBOC,YAAY,CAChCC,KAAM,WACNC,aAAc,CACZC,MAAO,GACPR,UAAW,EACXS,WAAW,GAEbC,SAAU,GACVC,eAAa,mBACVlB,EAAemB,SAAU,SAACC,GACzBA,EAAMJ,WAAY,KAFT,cAIVhB,EAAeqB,WAAY,SAACD,EAAOE,GAClCF,EAAML,MAAQO,EAAOC,QAAQC,KAC7BJ,EAAMb,YACNa,EAAMJ,WAAY,KAPT,cASVhB,EAAeyB,UAAW,SAACL,EAAOE,GACjCI,QAAQC,MAAML,EAAOK,UAVZ,KAgBf,Q,gBCceC,EAzDE,WACf,IAAMC,EAAWC,cACXf,EAAQgB,aAAY,SAACX,GAAD,OAAWA,EAAMd,KAAKS,SAC1CR,EAAYwB,aAAY,SAACX,GAAD,OAAWA,EAAMd,KAAKC,aAC9CS,EAAYe,aAAY,SAACX,GAAD,OAAWA,EAAMd,KAAKU,aAEpDgB,qBAAU,WACRH,EAAS7B,OACR,CAAC6B,IAiBJ,OACE,6BAASI,UAAWC,IAAOC,eACzB,wBAAIF,UAAWC,IAAOE,WAAtB,cACe,IAAdpB,EACC,kDAEA,oCACE,yBAAKiB,UAAWC,IAAOG,gBACrB,iDACsBtB,EAAMuB,OAD5B,8BAC+D,IAC5D/B,GAEH,4BACEgC,QAAS,SAACC,GACRA,EAAMC,iBACNZ,EAAS7B,OAHb,kBASF,wBAAIiC,UAAWC,IAAOQ,UACnB3B,EAAM4B,KAAI,SAACC,EAAMC,GAAP,OArCF,SAACD,EAAMC,GACxB,OACE,wBAAIC,IAAKF,EAAKG,IACZ,2BAAIF,GACJ,yBAAKZ,UAAWC,IAAOc,QACrB,yBAAKC,IAAKL,EAAKM,WAAYC,IAAI,YAEjC,uBAAGlB,UAAWC,IAAOkB,WAAYR,EAAKS,OACtC,uBAAGpB,UAAWC,IAAOoB,WAArB,eACeV,EAAKW,WAAa,OAAS,UA6BpCC,CAAWZ,ED5CD,IC4CQrC,EAAY,GAAgBsC,EAAQ,UC1CrDY,MARf,WACE,OACE,yBAAKxB,UAAU,OACb,kBAAC,EAAD,QCCSyB,EAJDC,YAAe,CAC3BC,QAAS,CAAEtD,KAAMK,KCGnBkD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUL,MAAOA,GACf,kBAAC,EAAD,QAGJM,SAASC,eAAe,W","file":"static/js/main.85c69c8a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"listComponent\":\"UserList_listComponent__1WJFx\",\"pageTitle\":\"UserList_pageTitle__3qRDG\",\"paginatedBlock\":\"UserList_paginatedBlock__21SKP\",\"userList\":\"UserList_userList__1L9EN\",\"avatar\":\"UserList_avatar__30JzF\",\"userLogin\":\"UserList_userLogin__3rGej\",\"siteAdmin\":\"UserList_siteAdmin__3O7oN\"};","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { request as gitHubAPI } from \"@octokit/request\";\n\n/**\n * API document:\n * list-users, https://docs.github.com/en/free-pro-team@latest/rest/reference/users#list-users\n *\n */\n\nexport const PER_PAGE = 20;\n\nconst getGitHubUsers = createAsyncThunk(\n  \"userList/getGitHubUsers\",\n  async (input, { getState }) => {\n    const since = getState().list.pageIndex * PER_PAGE;\n\n    const response = await gitHubAPI(\"GET /users\", {\n      per_page: PER_PAGE,\n      since: since,\n    });\n    return response;\n  }\n);\n\nconst userListSlice = createSlice({\n  name: \"userList\",\n  initialState: {\n    users: [],\n    pageIndex: 0,\n    isPending: true,\n  },\n  reducers: {},\n  extraReducers: {\n    [getGitHubUsers.pending]: (state) => {\n      state.isPending = true;\n    },\n    [getGitHubUsers.fulfilled]: (state, action) => {\n      state.users = action.payload.data;\n      state.pageIndex++;\n      state.isPending = false;\n    },\n    [getGitHubUsers.rejected]: (state, action) => {\n      console.error(action.error);\n    },\n  },\n});\n\nexport { getGitHubUsers };\nexport default userListSlice.reducer;\n","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getGitHubUsers, PER_PAGE } from \"./userListSlice\";\nimport styles from \"./UserList.module.css\";\n\nconst UserList = () => {\n  const dispatch = useDispatch();\n  const users = useSelector((state) => state.list.users);\n  const pageIndex = useSelector((state) => state.list.pageIndex);\n  const isPending = useSelector((state) => state.list.isPending);\n\n  useEffect(() => {\n    dispatch(getGitHubUsers());\n  }, [dispatch]);\n\n  const anUserInfo = (user, order) => {\n    return (\n      <li key={user.id}>\n        <p>{order}</p>\n        <div className={styles.avatar}>\n          <img src={user.avatar_url} alt=\"avatar\" />\n        </div>\n        <p className={styles.userLogin}>{user.login}</p>\n        <p className={styles.siteAdmin}>\n          Site Admin: {user.site_admin ? \"true\" : \"false\"}\n        </p>\n      </li>\n    );\n  };\n\n  return (\n    <article className={styles.listComponent}>\n      <h2 className={styles.pageTitle}>User List</h2>\n      {isPending === true ? (\n        <p>Waiting for request</p>\n      ) : (\n        <>\n          <div className={styles.paginatedBlock}>\n            <p>\n              This page contains {users.length} items, Current page index:{\" \"}\n              {pageIndex}\n            </p>\n            <button\n              onClick={(event) => {\n                event.preventDefault();\n                dispatch(getGitHubUsers());\n              }}\n            >\n              Get Next Page\n            </button>\n          </div>\n          <ul className={styles.userList}>\n            {users.map((user, order) =>\n              anUserInfo(user, (pageIndex - 1) * PER_PAGE + order + 1)\n            )}\n          </ul>\n        </>\n      )}\n    </article>\n  );\n};\n\nexport default UserList;\n","import React from \"react\";\nimport UserList from \"../features/list/UserList\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <UserList></UserList>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport userListSlice from \"../features/list/userListSlice\";\n\nconst store = configureStore({\n  reducer: { list: userListSlice },\n});\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./app/App\";\nimport store from \"./app/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}